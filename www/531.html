<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>5/3/1 Routine</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/normalize.css">
  <link rel="stylesheet" type="text/css" href="css/framework.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <script type="text/javascript" src="cordova.js"></script>
  <link rel="stylesheet" type="text/css" href="css/styleProfile.css">
  <link rel="stylesheet" type="text/css" href="css/styleRoutines.css">
  <link rel="stylesheet" href="css/animate.min.css">
  <link rel="shortcut icon" type="image/x-icon" href="img/logo.ico">
  <link rel="apple-touch-icon" href="img/logo.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="css/ionicons.min.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
  <script type="text/javascript" src="js/hammer.min.js"></script>
  <script type="text/javascript" src="js/swipeToDelete.js"></script>  
</head>
<body>
  <section class="w-section mobile-wrapper">
    <div class="page-content" id="main-stack">
        <div class="w-nav navbar" data-collapse="all" data-animation="over-left" data-duration="400" data-contain="1" data-easing="ease-out-quint" data-no-scroll="1">
            <p class="navbar-title-test" id="routineName">5/3/1 Routine</p>
            <div class="w-container">
        <a class="w-inline-block navbar-button right bigger" data-load="1">
          <div id="saveRoutine" class="navbar-button-icon icon ion-ios-checkmark-empty"></div>
        </a>
        <a class="w-inline-block navbar-button" href="workoutTracker.html" data-load="1">
          <div class="navbar-button-icon icon ion-ios-close-empty"></div>
        </a>
        <script type="text/javascript">
        var SetNums = {};
        var NumOfExercises = 0;
        var weekSelected;
        var OneRepMax;
        $('#emailIcon').removeClass('icon ion-email');
        $('#emailIcon').addClass('icon ion-ios-plus-empty');
        $("#emailIcon").attr("onclick","newWorkout()");
        //$('#emailIcon').addClass('icon ion-ios-plus-empty');
        //$("#emailIcon").attr("onclick","newWorkout()");
        </script>
            <div class="body" style="padding-top: 0px; height: 100vh; overflow:scroll">
                <div class="separator-fields"></div>
                <div class="separator-fields"></div>
                <div id="reCalculate1RM" style="text-align:center;">
                  <p>Recalulate 1RM</p>
                </div>
                <form id="Calc1RM" style="margin-left:3%;">
                    <div style="width:33%; display:inline-block;">
                      <label class="label-form light" for="weight">Weight lifted</label>
                      <input class="w-input input-form light" id="weight-field" type="text" name="weight" data-name="weight" required="required">
                    </div>
                    <div style="width:33%; display:inline-block;">
                      <label class="label-form light"  for="reps">Reps</label>
                      <div class="block-input-combined">
                        <input class="w-input input-form light left"  id="reps-field" name="reps" data-name="reps" required="required">
                      </div>
                    </div>
                    <input class="w-button week-button" style="background-color:#1f5687;display:inline-block;position:absolute;" id="calculate" type="submit" value="Calculate 1RM" data-wait="Please wait...">
                    </form>
                <div id="PickADay">
                    <div class="separator-fields"></div>
                    <div class="separator-fields"></div>
                    <label class="label-form" for="node-10" style="padding-left: 10px;">Which Day?</label>
                    <div class="separator-fields"></div>
                    <select class="w-select input-form select" id="LiftDay" style="padding-left: 10px; padding-right: 10px;">
                      <option value="none">Select one...</option>
                      <option value="Bench">Bench</option>
                      <option value="Squat">Squat</option>
                      <option value="Deadlift">Deadlift</option>
                      <option value="Overhead Press">Overhead Press</option>
                    </select>
                  </div>
                <form id="setDay" action="" style="text-align: center;">
                    <input class="w-button week-button" style="background-color:#1f5687; margin-top:20px;" id="Week1" type="submit" onclick=""value="Week 1" data-wait="Please wait...">
                    <input class="w-button week-button" style="background-color:#1f5687; margin-top:20px;" id="Week2" type="submit" onclick=""value="Week 2" data-wait="Please wait...">
                    <input class="w-button week-button" style="background-color:#1f5687; margin-top:20px;" id="Week3" type="submit" onclick=""value="Week 3" data-wait="Please wait...">
                </form>
                <ul data-role="listview" class="list list-workouts" id="BenchDay" style="margin-top: 10px;">
                <div class='separator-fields'></div>
                <div class='separator-fields'></div>
                <li class='list-workout' id='listClassBench'>
                  <div class='workout-left-border'>
                    <div class='exercise-title' id="exerciseTitle">Bench</div>
                    <div id='Allsets'>
                      <a class='w-clearfix w-inline-block' id='setsListBench'>
                      <div class='workout-column'>
                      </div>
                      <div class='setsReps' style='clear:both;'>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Set</div>
                          <p id='setNum1'>1</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Reps</div>
                          <p id='RepsNum1'>5</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Weight</div>
                          <p id='WeightNum1'>200</p>
                        </div>
                      </div>
                      <div class='setsReps' style='clear:both;'>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Set</div>
                          <p id='setNum2'>2</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Reps</div>
                          <p id='RepsNum2'>5</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Weight</div>
                          <p id='WeightNum2'>200</p>
                        </div>
                      </div>
                      <div class='setsReps' style='clear:both;'>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Set</div>
                          <p id='setNum3'>3</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Reps</div>
                          <p id='RepsNum3'>5</p>
                        </div>
                        <div class='col-sm-4 follow-left text-centered'>
                          <div class='setRepLabel'>Weight</div>
                          <p id='WeightNum3'>200</p>
                        </div>
                      </div>
                    </a>
                    </div>
                    </div>
                    </li>
                    <div class="separator-fields"></div>
                    <div class="separator-fields"></div>
                    <li class='list-workout' id='accessories'>
                        <div class='workout-left-border'>
                        <div class='exercise-title'>Accesories</div>
                        <div class='AccesoriesText'>You can do as many or as few accessory lifts as you want.</div>
                        </div>
                    </li>
                </ul>
                <div class="separator-fields"></div>
                <div class="separator-fields"></div>
                    <div class="setRepLabel" style="padding-bottom:100px;"></div>
              </div>
              <div class="separator-fields"></div>
              <div class="separator-fields"></div>
              <div class="separator-fields"></div>
              <div class="separator-fields"></div>
              <div class="separator-fields"></div>
              <div class="separator-fields"></div>
            </div>
    <div class="page-content loading-mask" id="new-stack">
      <div class="loading-icon">
        <div class="navbar-button-icon icon ion-load-d"></div>
      </div>
    </div>
  </section>
  <script src="js/webfont.js"></script>
  <script type="text/javascript" src="js/modernizr.js"></script>
  <script type="text/javascript" src="js/framework.js"></script>
  <script type="text/javascript" src="js/scripts.js"></script>
  <!--[if lte IE 9]><script src="js/placeholders.min.js"></script><![endif]-->
  <script>
      $("#Week1").click(function(){
        weekSelected = "Week 1";
      });
      $("#Week2").click(function(){
        weekSelected = "Week 2";
      });
      $("#Week3").click(function(){
        weekSelected = "Week 3";
      });
      $('#BenchDay').hide();
      $('#setRoutine').submit(function(event){
        alert(weekSelected);
        
        $('#BenchDay').addClass('animated bounceInLeft');
        $('#BenchDay').show();
        event.preventDefault();
      });

      $('#setDay').submit(function(event){
        //alert(weekSelected);
        var dayChosen = $('#LiftDay').val();
        if(dayChosen == "none"){
          event.preventDefault();
          navigator.notification.alert("Choose a main lift day");
        }
        else{
          var btn = $(this).find("input[type=submit]:focus" );
          console.dir(btn);
          //alert(btn.val());
          setReps(weekSelected);
          //alert(btn.val());
          $('#exerciseTitle').text(dayChosen);
          $('#BenchDay').removeClass('animated bounceInLeft');
          $('#BenchDay').addClass('animated bounceOutRight');
          $('#BenchDay').hide();
          $('#BenchDay').removeClass('animated bounceOutRight');
          $('#BenchDay').addClass('animated bounceInLeft');
          $('#BenchDay').show();
        }

        event.preventDefault();
      });

      function setReps(week){
        if(week == 'Week 1'){
          $('#RepsNum1').text(5);
          $('#RepsNum2').text(5);
          $('#RepsNum3').text("5+");
          var weight = OneRepMax*(.65);
          $('#WeightNum1').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.75);
          $('#WeightNum2').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.85);
          $('#WeightNum3').text(Math.ceil(weight/5)*5);
        }
        else if(week == "Week 2"){
          $('#RepsNum1').text(3);
          $('#RepsNum2').text(3);
          $('#RepsNum3').text("3+");

          var weight = OneRepMax*(.70);
          $('#WeightNum1').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.80);
          $('#WeightNum2').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.90);
          $('#WeightNum3').text(Math.ceil(weight/5)*5);
        }
        else if(week == "Week 3"){
          $('#RepsNum1').text(5);
          $('#RepsNum2').text(3);
          $('#RepsNum3').text("1+");

          var weight = OneRepMax*(.75);
          $('#WeightNum1').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.85);
          $('#WeightNum2').text(Math.ceil(weight/5)*5);
          weight = OneRepMax*(.95);
          $('#WeightNum3').text(Math.ceil(weight/5)*5);
        }
        
      }
    </script>
    <script>
      $('#PickADay').hide();
      $('#setDay').hide();
      $('#reCalculate1RM').hide();
      $('#Calc1RM').submit(function(event){
        $('#PickADay').addClass('animated bounceInLeft');
        $('#setDay').addClass('animated bounceInLeft');
        $('#PickADay').show();
        $('#setDay').show();
        $('#Calc1RM').addClass('animated bounceOutLeft');
        $('#Calc1RM').hide();
        $('#reCalculate1RM').addClass('animated fadeIn');
        $('#reCalculate1RM').show();
        var reps = $('#reps-field').val();
        var weight = $('#weight-field').val();
        if(/^\d+$/.test(reps) && /^\d+$/.test(weight)){
          OneRepMax = weight/(1.0278 - (0.0278 * reps));
          alert("1RM = "+OneRepMax);
        }
        else{
          navigator.notification.alert("Please enter valid weight and/or reps");
        }


      event.preventDefault();

    });

    $('#reCalculate1RM').click(function(){
      $('#reCalculate1RM').hide();
      //$('#Calc1RM').removeClass('animated bounceInLeft');
      //$('#Calc1RM').addClass('animated bounceOutRight');
      //$('#Calc1RM').hide();
      $('#Calc1RM').removeClass('animated bounceOutLeft');
      $('#Calc1RM').addClass('animated bounceInLeft');
      $('#Calc1RM').show();
      $('#PickADay').hide();
      $('#setDay').hide();
      $('#BenchDay').hide();
    });
    </script>
</body>
</html>